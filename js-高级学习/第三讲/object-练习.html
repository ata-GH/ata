<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script type="text/javascript" charset="utf-8">
    //简单实现java中的map

    function Map(){
        var obj={};
        /*put 函数*/
        this.put=function(attribute,value){
            obj[attribute]=value;
        };
        /*查看长度函数*/
        this.size=function(){
            var count=0;
            for(var attr in obj){
                count++;
            }
            return count;
        };
        /*获取value函数*/
        this.get=function(key){
            if(obj[key]||obj[key]===0 ||obj[key]===false){
                return obj[key];
            }else{
                return null;
            }
        };
        /*删除某属性函数*/
        this.remove=function(key){
            if(obj[key]||obj[key]===0 ||obj[key]===false){
                delete obj[key];
            }
        };
        /*遍历map函数的方法*/
        this.eachMap=function(callBack){
            for(var attr in obj){
                callBack(attr,obj[attr]);
            }
        }
    }
    var m = new Map();
    m.put('Q1','abc');
    m.put('Q2',0);
    m.put('Q3',true);
    m.put('Q4',new Date());

    console.log(m.size());
    m.remove('Q2');
    console.log(m.get('Q2'));
    m.eachMap(function(item,value){
        console.log(item,value);
    });

    //利用对象的特性，去掉数组中的重复项  对象中的key是不会重复的
    var obj={},arr=['lisa',2,'a','c','c','abc',2,'a',137,'lisa',,1,2];
    var result=arr.filter(function(item,index){
        if(!obj[item]){
            obj[item]=true;
            return item;
        }else{
            return false;
        }
    });
    console.log(result);//['lisa','a','c','abc','137','lisa',1]

    var arr1=[],obj1={};
    for(var i= 0,len=arr.length;i<len;i++){
        if(!obj1[arr[i]] && arr[i]){
            obj1[arr[i]]=true;
            arr1.push(arr[i]);
        }
    }
    console.log(arr1);


    function toSliceArr(arr){
        var obj2={};
        for(var i= 0,len=arr.length;i<len;i++){
            if(!obj2[arr[i]] && arr[i]){
                obj2[arr[i]]=true;
            }
        }
        return obj2;
    }
    function keyArr(obj){
        var arr2=[];
        for(var attr in obj){
            if(obj.hasOwnProperty(attr)){
                arr2.push(attr);
            }
        }
        return arr2;
    }
    console.log(keyArr(toSliceArr(arr)));
</script>


</body>
</html>